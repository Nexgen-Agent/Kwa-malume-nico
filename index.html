<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epicurean | Elite Dining Experience</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --gold: #D4AF37;
            --burgundy: #800020;
            --cream: #FFF8E1;
            --charcoal: #2C2C2C;
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--cream);
            color: var(--charcoal);
            overflow-x: hidden;
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .bg-gold { background-color: var(--gold); }
        .bg-burgundy { background-color: var(--burgundy); }
        .bg-cream { background-color: var(--cream); }
        .bg-charcoal { background-color: var(--charcoal); }
        
        .text-gold { color: var(--gold); }
        .text-burgundy { color: var(--burgundy); }
        .text-cream { color: var(--cream); }
        .text-charcoal { color: var(--charcoal); }
        
        .border-gold { border-color: var(--gold); }
        .border-burgundy { border-color: var(--burgundy); }
        
        .btn-primary {
            background-color: var(--burgundy);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary:hover {
            background-color: rgba(128, 0, 32, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .btn-secondary {
            background-color: var(--gold);
            color: var(--charcoal);
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 2px solid var(--gold);
        }
        
        .btn-secondary:hover {
            background-color: rgba(212, 175, 55, 0.9);
            transform: translateY(-2px);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .page-transition {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .page-hidden {
            opacity: 0;
            transform: translateY(10px);
            pointer-events: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
        }
        
        .page-active {
            opacity: 1;
            transform: translateY(0);
            position: relative;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-100">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-burgundy rounded-full"></div>
                    <h1 class="font-display text-2xl font-bold text-charcoal">Epicurean</h1>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#homepage" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors">Home</a>
                    <a href="#comments" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors">Reviews</a>
                    <a href="#booking" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors">Reservations</a>
                    <a href="#coupons" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors">Offers</a>
                    <a href="#profile" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors">Profile</a>
                    
                    <div class="flex items-center space-x-4">
                        <button id="cartBtn" class="relative p-2">
                            <i class="fas fa-shopping-cart text-charcoal text-lg"></i>
                            <span id="cartCount" class="absolute -top-1 -right-1 bg-burgundy text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                        </button>
                        
                        <button id="authBtn" class="btn-primary py-2 px-6">
                            Sign In
                        </button>
                    </div>
                </div>
                
                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden text-charcoal">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div id="mobileMenu" class="md:hidden bg-white border-t border-gray-100 py-4 px-4 hidden">
            <div class="flex flex-col space-y-4">
                <a href="#homepage" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors py-2">Home</a>
                <a href="#comments" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors py-2">Reviews</a>
                <a href="#booking" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors py-2">Reservations</a>
                <a href="#coupons" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors py-2">Offers</a>
                <a href="#profile" class="nav-link text-charcoal font-medium hover:text-burgundy transition-colors py-2">Profile</a>
                
                <div class="flex items-center space-x-4 pt-4">
                    <button id="cartBtnMobile" class="relative p-2">
                        <i class="fas fa-shopping-cart text-charcoal text-lg"></i>
                        <span id="cartCountMobile" class="absolute -top-1 -right-1 bg-burgundy text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                    
                    <button id="authBtnMobile" class="btn-primary py-2 px-6 flex-1">
                        Sign In
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="pt-20">
        <!-- Homepage -->
        <div id="homepage" class="page page-active">
            <!-- Hero Section -->
            <section class="relative h-screen flex items-center justify-center overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-burgundy/5 to-gold/5"></div>
                <div class="relative z-10 text-center px-4 max-w-6xl mx-auto">
                    <h1 class="text-5xl md:text-7xl font-display font-bold text-charcoal mb-6">
                        Culinary <span class="text-gold">Excellence</span> Redefined
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-600 mb-10 max-w-3xl mx-auto">
                        Experience Michelin-star dining with flavors that tell a story. 
                        Every dish is a masterpiece crafted by our award-winning chefs.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button class="btn-primary text-lg py-4 px-10">
                            Book a Table
                        </button>
                        <button class="btn-secondary text-lg py-4 px-10">
                            View Our Menu
                        </button>
                    </div>
                </div>
                
                <!-- Floating stats -->
                <div class="absolute bottom-8 left-0 right-0">
                    <div class="flex justify-center gap-8 md:gap-16 flex-wrap">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-burgundy">4.9★</div>
                            <div class="text-gray-600">Rating</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-burgundy">Award</div>
                            <div class="text-gray-600">Winning</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-burgundy">1998</div>
                            <div class="text-gray-600">Since</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Menu -->
            <section class="py-20 px-4">
                <div class="max-w-7xl mx-auto">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl md:text-5xl font-display font-bold text-charcoal mb-4">
                            Chef's Specialties
                        </h2>
                        <p class="text-gray-600 text-lg">Curated culinary masterpieces</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                        <!-- Menu Item 1 -->
                        <div class="bg-white rounded-2xl shadow-xl card-hover overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-burgundy/20 to-gold/20 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-utensils text-4xl text-burgundy/50"></i>
                                </div>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="text-xl font-bold text-charcoal">Truffle Pasta</h3>
                                    <span class="text-gold font-bold text-xl">$24</span>
                                </div>
                                <p class="text-gray-600 mb-4">Handmade pasta with black truffle, parmesan cream</p>
                                <button class="add-to-cart w-full bg-burgundy text-white py-3 rounded-lg hover:bg-burgundy/90 transition-colors" data-name="Truffle Pasta" data-price="24">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                        
                        <!-- Menu Item 2 -->
                        <div class="bg-white rounded-2xl shadow-xl card-hover overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-gold/20 to-burgundy/20 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-drumstick-bite text-4xl text-gold/50"></i>
                                </div>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="text-xl font-bold text-charcoal">Wagyu Steak</h3>
                                    <span class="text-gold font-bold text-xl">$48</span>
                                </div>
                                <p class="text-gray-600 mb-4">Premium grade A5 wagyu with truffle butter</p>
                                <button class="add-to-cart w-full bg-burgundy text-white py-3 rounded-lg hover:bg-burgundy/90 transition-colors" data-name="Wagyu Steak" data-price="48">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                        
                        <!-- Menu Item 3 -->
                        <div class="bg-white rounded-2xl shadow-xl card-hover overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-burgundy/20 to-charcoal/20 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-fish text-4xl text-burgundy/50"></i>
                                </div>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="text-xl font-bold text-charcoal">Lobster Bisque</h3>
                                    <span class="text-gold font-bold text-xl">$18</span>
                                </div>
                                <p class="text-gray-600 mb-4">Creamy lobster soup with crème fraîche</p>
                                <button class="add-to-cart w-full bg-burgundy text-white py-3 rounded-lg hover:bg-burgundy/90 transition-colors" data-name="Lobster Bisque" data-price="18">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                        
                        <!-- Menu Item 4 -->
                        <div class="bg-white rounded-2xl shadow-xl card-hover overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-gold/20 to-charcoal/20 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-ice-cream text-4xl text-gold/50"></i>
                                </div>
                            </div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="text-xl font-bold text-charcoal">Chocolate Soufflé</h3>
                                    <span class="text-gold font-bold text-xl">$14</span>
                                </div>
                                <p class="text-gray-600 mb-4">Warm chocolate dessert with vanilla ice cream</p>
                                <button class="add-to-cart w-full bg-burgundy text-white py-3 rounded-lg hover:bg-burgundy/90 transition-colors" data-name="Chocolate Soufflé" data-price="14">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info Section -->
            <section class="py-16 bg-white">
                <div class="max-w-7xl mx-auto px-4">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center p-6">
                            <div class="w-16 h-16 mx-auto mb-4 bg-gold/10 rounded-full flex items-center justify-center">
                                <i class="fas fa-clock text-2xl text-gold"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Hours</h3>
                            <p class="text-gray-600">Mon-Sun: 5PM - 11PM</p>
                            <p class="text-gray-600">Weekend Brunch: 10AM - 3PM</p>
                        </div>
                        
                        <div class="text-center p-6">
                            <div class="w-16 h-16 mx-auto mb-4 bg-burgundy/10 rounded-full flex items-center justify-center">
                                <i class="fas fa-map-marker-alt text-2xl text-burgundy"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Location</h3>
                            <p class="text-gray-600">123 Gourmet Avenue</p>
                            <p class="text-gray-600">New York, NY 10001</p>
                        </div>
                        
                        <div class="text-center p-6">
                            <div class="w-16 h-16 mx-auto mb-4 bg-gold/10 rounded-full flex items-center justify-center">
                                <i class="fas fa-phone text-2xl text-gold"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Reservations</h3>
                            <p class="text-gray-600">(555) 123-4567</p>
                            <p class="text-burgundy font-medium">reservations@epicurean.com</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="py-20 bg-gradient-to-r from-burgundy to-charcoal text-white">
                <div class="max-w-6xl mx-auto text-center px-4">
                    <h2 class="text-4xl md:text-5xl font-display font-bold mb-6">
                        Ready for an Unforgettable Experience?
                    </h2>
                    <p class="text-xl mb-10 opacity-90 max-w-3xl mx-auto">
                        Join our culinary journey and discover why we're the talk of the town. 
                        Book your table now or explore our exclusive offers.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button class="bg-white text-burgundy px-10 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors" onclick="showPage('booking')">
                            Reserve Your Table
                        </button>
                        <button class="bg-transparent border-2 border-white px-10 py-4 rounded-lg font-bold text-lg hover:bg-white/10 transition-colors" onclick="showPage('coupons')">
                            Exclusive Offers
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Comments Page -->
        <div id="comments" class="page page-hidden">
            <div class="max-w-6xl mx-auto px-4 py-16">
                <div class="flex justify-between items-center mb-12">
                    <div>
                        <h1 class="text-4xl md:text-5xl font-display font-bold text-charcoal">Guest Reviews</h1>
                        <p class="text-gray-600 mt-2">What our guests say about their experience</p>
                    </div>
                    <button class="btn-primary" onclick="showAuthModal('write-review')">
                        <i class="fas fa-pen mr-2"></i> Write Review
                    </button>
                </div>
                
                <!-- Overall Rating -->
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-12">
                    <div class="flex flex-col md:flex-row items-center">
                        <div class="text-center md:text-left mb-6 md:mb-0 md:mr-12">
                            <div class="text-6xl font-bold text-charcoal mb-2">4.9</div>
                            <div class="flex items-center justify-center md:justify-start mb-2">
                                <i class="fas fa-star text-gold text-2xl"></i>
                                <i class="fas fa-star text-gold text-2xl"></i>
                                <i class="fas fa-star text-gold text-2xl"></i>
                                <i class="fas fa-star text-gold text-2xl"></i>
                                <i class="fas fa-star-half-alt text-gold text-2xl"></i>
                            </div>
                            <p class="text-gray-600">Based on 247 reviews</p>
                        </div>
                        
                        <div class="flex-1">
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <span class="w-12 text-gray-600">5★</span>
                                    <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden ml-2">
                                        <div class="h-full bg-gold rounded-full" style="width: 85%"></div>
                                    </div>
                                    <span class="w-12 text-right text-gray-600 ml-2">85%</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-12 text-gray-600">4★</span>
                                    <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden ml-2">
                                        <div class="h-full bg-gold/80 rounded-full" style="width: 12%"></div>
                                    </div>
                                    <span class="w-12 text-right text-gray-600 ml-2">12%</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-12 text-gray-600">3★</span>
                                    <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden ml-2">
                                        <div class="h-full bg-gold/60 rounded-full" style="width: 2%"></div>
                                    </div>
                                    <span class="w-12 text-right text-gray-600 ml-2">2%</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-12 text-gray-600">2★</span>
                                    <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden ml-2">
                                        <div class="h-full bg-gold/40 rounded-full" style="width: 1%"></div>
                                    </div>
                                    <span class="w-12 text-right text-gray-600 ml-2">1%</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-12 text-gray-600">1★</span>
                                    <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden ml-2">
                                        <div class="h-full bg-gold/20 rounded-full" style="width: 0%"></div>
                                    </div>
                                    <span class="w-12 text-right text-gray-600 ml-2">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews List -->
                <div class="space-y-8">
                    <!-- Review 1 -->
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <div class="flex items-start justify-between mb-4">
                            <div>
                                <h3 class="text-xl font-bold text-charcoal">Exceptional Dining Experience</h3>
                                <div class="flex items-center mt-1">
                                    <div class="flex">
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                    </div>
                                    <span class="ml-2 text-gray-600">By Michael R. • 2 days ago</span>
                                </div>
                            </div>
                            <i class="fas fa-quote-right text-3xl text-burgundy/20"></i>
                        </div>
                        <p class="text-gray-700 leading-relaxed">
                            Absolutely phenomenal experience from start to finish. The truffle pasta was the best I've ever had, 
                            and the service was impeccable. We celebrated our anniversary here, and the staff made it extra special 
                            with a complimentary dessert and personalized menu. Highly recommend!
                        </p>
                    </div>
                    
                    <!-- Review 2 -->
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <div class="flex items-start justify-between mb-4">
                            <div>
                                <h3 class="text-xl font-bold text-charcoal">Worth Every Penny</h3>
                                <div class="flex items-center mt-1">
                                    <div class="flex">
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                    </div>
                                    <span class="ml-2 text-gray-600">By Sarah L. • 1 week ago</span>
                                </div>
                            </div>
                            <i class="fas fa-quote-right text-3xl text-burgundy/20"></i>
                        </div>
                        <p class="text-gray-700 leading-relaxed">
                            The Wagyu steak melted in my mouth like butter. Paired with the sommelier's wine recommendation, 
                            it was a culinary journey I'll never forget. The ambiance is elegant yet comfortable, perfect for 
                            special occasions or treating yourself. Can't wait to return!
                        </p>
                    </div>
                    
                    <!-- Review 3 -->
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <div class="flex items-start justify-between mb-4">
                            <div>
                                <h3 class="text-xl font-bold text-charcoal">Perfect Birthday Dinner</h3>
                                <div class="flex items-center mt-1">
                                    <div class="flex">
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star text-gold"></i>
                                        <i class="fas fa-star-half-alt text-gold"></i>
                                    </div>
                                    <span class="ml-2 text-gray-600">By James K. • 2 weeks ago</span>
                                </div>
                            </div>
                            <i class="fas fa-quote-right text-3xl text-burgundy/20"></i>
                        </div>
                        <p class="text-gray-700 leading-relaxed">
                            Celebrated my wife's birthday here and everything was perfect. The lobster bisque was heavenly, 
                            and the chocolate soufflé was the perfect ending. Service was attentive without being intrusive. 
                            The only reason for 4.5 stars is that the cocktails took a bit long, but they were delicious once they arrived.
                        </p>
                    </div>
                </div>
                
                <!-- Load More Button -->
                <div class="text-center mt-12">
                    <button class="btn-secondary px-10 py-3">
                        Load More Reviews
                    </button>
                </div>
            </div>
        </div>

        <!-- Booking Page -->
        <div id="booking" class="page page-hidden">
            <div class="max-w-6xl mx-auto px-4 py-16">
                <div class="text-center mb-16">
                    <h1 class="text-4xl md:text-5xl font-display font-bold text-charcoal">Reservations</h1>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">
                        Book your table for an unforgettable dining experience. 
                        We recommend reserving at least 2 weeks in advance for weekend dinners.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Booking Form -->
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <h2 class="text-2xl font-bold text-charcoal mb-6">Make a Reservation</h2>
                        
                        <form id="bookingForm">
                            <div class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-gray-700 mb-2">First Name</label>
                                        <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-gray-700 mb-2">Last Name</label>
                                        <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2">Email</label>
                                    <input type="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2">Phone Number</label>
                                    <input type="tel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-gray-700 mb-2">Date</label>
                                        <input type="date" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-gray-700 mb-2">Time</label>
                                        <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                            <option value="">Select Time</option>
                                            <option>5:00 PM</option>
                                            <option>5:30 PM</option>
                                            <option>6:00 PM</option>
                                            <option>6:30 PM</option>
                                            <option>7:00 PM</option>
                                            <option>7:30 PM</option>
                                            <option>8:00 PM</option>
                                            <option>8:30 PM</option>
                                            <option>9:00 PM</option>
                                            <option>9:30 PM</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2">Number of Guests</label>
                                    <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                        <option value="">Select Guests</option>
                                        <option>1 person</option>
                                        <option>2 people</option>
                                        <option>3 people</option>
                                        <option>4 people</option>
                                        <option>5 people</option>
                                        <option>6 people</option>
                                        <option>7 people</option>
                                        <option>8+ people</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2">Special Requests (Optional)</label>
                                    <textarea class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" rows="3" placeholder="Allergies, celebrations, seating preferences..."></textarea>
                                </div>
                                
                                <div class="pt-4">
                                    <button type="submit" class="btn-primary w-full py-4 text-lg">
                                        Confirm Reservation
                                    </button>
                                    <p class="text-center text-gray-600 mt-3">
                                        No account needed to book a table
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Booking Info -->
                    <div>
                        <div class="bg-gradient-to-br from-burgundy to-charcoal text-white rounded-2xl shadow-xl p-8 mb-8">
                            <h2 class="text-2xl font-bold mb-6">Why Book With Us</h2>
                            <ul class="space-y-4">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold mt-1 mr-3"></i>
                                    <span>Guaranteed best table available</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold mt-1 mr-3"></i>
                                    <span>Priority for special occasions</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold mt-1 mr-3"></i>
                                    <span>Flexible cancellation (24hr notice)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold mt-1 mr-3"></i>
                                    <span>Earn dining rewards with every visit</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="bg-white rounded-2xl shadow-xl p-8">
                            <h2 class="text-2xl font-bold text-charcoal mb-6">Dining Hours</h2>
                            <div class="space-y-4">
                                <div class="flex justify-between py-3 border-b border-gray-100">
                                    <span class="font-medium">Monday - Thursday</span>
                                    <span>5:00 PM - 10:00 PM</span>
                                </div>
                                <div class="flex justify-between py-3 border-b border-gray-100">
                                    <span class="font-medium">Friday - Saturday</span>
                                    <span>5:00 PM - 11:00 PM</span>
                                </div>
                                <div class="flex justify-between py-3 border-b border-gray-100">
                                    <span class="font-medium">Sunday</span>
                                    <span>5:00 PM - 9:00 PM</span>
                                </div>
                                <div class="flex justify-between py-3">
                                    <span class="font-medium">Weekend Brunch</span>
                                    <span>10:00 AM - 3:00 PM</span>
                                </div>
                            </div>
                            
                            <div class="mt-8 pt-6 border-t border-gray-100">
                                <h3 class="text-lg font-bold text-charcoal mb-4">Need Help?</h3>
                                <div class="flex items-center">
                                    <i class="fas fa-phone text-gold text-xl mr-3"></i>
                                    <div>
                                        <p class="font-medium">Call us directly</p>
                                        <p class="text-burgundy">(555) 123-4567</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coupons Page -->
        <div id="coupons" class="page page-hidden">
            <div class="max-w-6xl mx-auto px-4 py-16">
                <div class="text-center mb-16">
                    <h1 class="text-4xl md:text-5xl font-display font-bold text-charcoal">Exclusive Offers</h1>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">
                        Unlock special discounts and rewards. Create an account to save your offers and track your rewards.
                    </p>
                </div>
                
                <!-- Authentication Banner -->
                <div id="couponAuthBanner" class="bg-gradient-to-r from-gold to-burgundy text-white rounded-2xl p-8 mb-12 text-center">
                    <h2 class="text-2xl font-bold mb-4">Want to save your offers?</h2>
                    <p class="mb-6 max-w-2xl mx-auto">
                        Create a free account to save coupons, track your rewards, and get personalized offers.
                    </p>
                    <button onclick="showAuthModal('register')" class="bg-white text-burgundy font-bold py-3 px-8 rounded-lg hover:bg-gray-100 transition-colors">
                        Create Free Account
                    </button>
                </div>
                
                <!-- Coupons Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Coupon 1 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-gold">
                        <div class="bg-gradient-to-r from-burgundy to-charcoal text-white p-6 text-center">
                            <div class="text-4xl font-bold mb-2">20% OFF</div>
                            <p class="text-lg">Your First Order</p>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-charcoal mb-2">Welcome Offer</h3>
                            <p class="text-gray-600 mb-4">
                                New customers enjoy 20% off your first order of $50 or more.
                            </p>
                            <div class="flex items-center text-sm text-gray-500 mb-6">
                                <i class="fas fa-clock mr-2"></i>
                                <span>Expires in 30 days</span>
                            </div>
                            <button class="btn-primary w-full" onclick="showAuthModal('claim-coupon')">
                                Claim Offer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Coupon 2 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-burgundy">
                        <div class="bg-gradient-to-r from-gold to-burgundy text-charcoal p-6 text-center">
                            <div class="text-4xl font-bold mb-2">FREE</div>
                            <p class="text-lg">Dessert with Entrée</p>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-charcoal mb-2">Sweet Treat</h3>
                            <p class="text-gray-600 mb-4">
                                Enjoy a complimentary dessert with the purchase of any main course.
                            </p>
                            <div class="flex items-center text-sm text-gray-500 mb-6">
                                <i class="fas fa-clock mr-2"></i>
                                <span>Valid until Dec 31, 2023</span>
                            </div>
                            <button class="btn-primary w-full" onclick="showAuthModal('claim-coupon')">
                                Claim Offer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Coupon 3 -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-gold">
                        <div class="bg-gradient-to-r from-charcoal to-burgundy text-white p-6 text-center">
                            <div class="text-4xl font-bold mb-2">$25 OFF</div>
                            <p class="text-lg">Wine Pairing</p>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-charcoal mb-2">Wine Lover's Delight</h3>
                            <p class="text-gray-600 mb-4">
                                Get $25 off our premium wine pairing experience with any tasting menu.
                            </p>
                            <div class="flex items-center text-sm text-gray-500 mb-6">
                                <i class="fas fa-clock mr-2"></i>
                                <span>Limited time offer</span>
                            </div>
                            <button class="btn-primary w-full" onclick="showAuthModal('claim-coupon')">
                                Claim Offer
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Rewards Program -->
                <div class="mt-20">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-display font-bold text-charcoal">Epicurean Rewards</h2>
                        <p class="text-gray-600 mt-2">Earn points with every visit and redeem for exclusive perks</p>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="text-center p-6">
                                <div class="w-20 h-20 mx-auto mb-4 bg-gold/10 rounded-full flex items-center justify-center">
                                    <i class="fas fa-gem text-3xl text-gold"></i>
                                </div>
                                <h3 class="text-xl font-bold text-charcoal mb-2">Silver Tier</h3>
                                <p class="text-gray-600">0-500 points</p>
                                <ul class="mt-4 space-y-2 text-left">
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-gold mr-2"></i>
                                        <span>Birthday reward</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-gold mr-2"></i>
                                        <span>Early access to offers</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="text-center p-6 bg-gradient-to-b from-burgundy/5 to-gold/5 rounded-xl">
                                <div class="w-20 h-20 mx-auto mb-4 bg-burgundy/10 rounded-full flex items-center justify-center">
                                    <i class="fas fa-crown text-3xl text-burgundy"></i>
                                </div>
                                <h3 class="text-xl font-bold text-charcoal mb-2">Gold Tier</h3>
                                <p class="text-gray-600">501-1500 points</p>
                                <ul class="mt-4 space-y-2 text-left">
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-burgundy mr-2"></i>
                                        <span>All Silver benefits</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-burgundy mr-2"></i>
                                        <span>Priority reservations</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-burgundy mr-2"></i>
                                        <span>Complimentary glass of wine</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="text-center p-6">
                                <div class="w-20 h-20 mx-auto mb-4 bg-charcoal/10 rounded-full flex items-center justify-center">
                                    <i class="fas fa-star text-3xl text-charcoal"></i>
                                </div>
                                <h3 class="text-xl font-bold text-charcoal mb-2">Platinum Tier</h3>
                                <p class="text-gray-600">1500+ points</p>
                                <ul class="mt-4 space-y-2 text-left">
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-charcoal mr-2"></i>
                                        <span>All Gold benefits</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-charcoal mr-2"></i>
                                        <span>Chef's table access</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-check text-charcoal mr-2"></i>
                                        <span>Annual tasting menu</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="text-center mt-10 pt-8 border-t border-gray-100">
                            <button onclick="showAuthModal('register')" class="btn-primary px-10 py-3">
                                Join Rewards Program
                            </button>
                            <p class="text-gray-600 mt-3">
                                Earn 100 points just for signing up!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile" class="page page-hidden">
            <div class="max-w-6xl mx-auto px-4 py-16">
                <div class="text-center mb-12">
                    <h1 class="text-4xl md:text-5xl font-display font-bold text-charcoal">Your Profile</h1>
                    <p class="text-gray-600 mt-2">Manage your account, reservations, and rewards</p>
                </div>
                
                <!-- Profile Content -->
                <div id="profileContent">
                    <!-- Not logged in state -->
                    <div id="profileNotLoggedIn" class="bg-white rounded-2xl shadow-xl p-12 text-center">
                        <div class="w-24 h-24 mx-auto mb-6 bg-burgundy/10 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-4xl text-burgundy"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-charcoal mb-4">Welcome to Epicurean</h2>
                        <p class="text-gray-600 mb-8 max-w-md mx-auto">
                            Sign in to view your profile, manage reservations, track your rewards, and access exclusive offers.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <button onclick="showAuthModal('login')" class="btn-primary py-3 px-10">
                                Sign In
                            </button>
                            <button onclick="showAuthModal('register')" class="btn-secondary py-3 px-10">
                                Create Account
                            </button>
                        </div>
                    </div>
                    
                    <!-- Logged in state (hidden by default) -->
                    <div id="profileLoggedIn" class="hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <!-- Profile Sidebar -->
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-2xl shadow-xl p-8">
                                    <div class="text-center mb-6">
                                        <div class="w-32 h-32 mx-auto mb-4 bg-gradient-to-br from-gold to-burgundy rounded-full flex items-center justify-center">
                                            <span class="text-white text-4xl font-bold" id="userInitials">U</span>
                                        </div>
                                        <h2 class="text-2xl font-bold text-charcoal" id="userName">User Name</h2>
                                        <p class="text-gray-600" id="userEmail">user@example.com</p>
                                        
                                        <div class="mt-4">
                                            <span class="inline-block bg-gold/20 text-gold font-medium py-1 px-3 rounded-full">
                                                Silver Member
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div class="space-y-4">
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="dashboard">
                                            <i class="fas fa-tachometer-alt text-gold mr-3"></i>
                                            <span>Dashboard</span>
                                        </button>
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="reservations">
                                            <i class="fas fa-calendar-alt text-gold mr-3"></i>
                                            <span>My Reservations</span>
                                        </button>
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="rewards">
                                            <i class="fas fa-gem text-gold mr-3"></i>
                                            <span>Rewards & Points</span>
                                        </button>
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="coupons">
                                            <i class="fas fa-tag text-gold mr-3"></i>
                                            <span>My Coupons</span>
                                        </button>
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="reviews">
                                            <i class="fas fa-star text-gold mr-3"></i>
                                            <span>My Reviews</span>
                                        </button>
                                        <button class="profile-menu-btn w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center" data-section="settings">
                                            <i class="fas fa-cog text-gold mr-3"></i>
                                            <span>Account Settings</span>
                                        </button>
                                    </div>
                                    
                                    <div class="mt-8 pt-6 border-t border-gray-100">
                                        <button id="logoutBtn" class="w-full text-center p-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                            <i class="fas fa-sign-out-alt mr-2"></i> Sign Out
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Profile Main Content -->
                            <div class="lg:col-span-2">
                                <!-- Dashboard Section -->
                                <div id="profileDashboard" class="profile-section">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">Dashboard</h2>
                                        
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                            <div class="bg-gradient-to-br from-burgundy/10 to-gold/10 rounded-xl p-6">
                                                <div class="text-3xl font-bold text-charcoal mb-2">3</div>
                                                <p class="text-gray-600">Upcoming Reservations</p>
                                            </div>
                                            <div class="bg-gradient-to-br from-gold/10 to-burgundy/10 rounded-xl p-6">
                                                <div class="text-3xl font-bold text-charcoal mb-2">425</div>
                                                <p class="text-gray-600">Reward Points</p>
                                            </div>
                                            <div class="bg-gradient-to-br from-burgundy/10 to-charcoal/10 rounded-xl p-6">
                                                <div class="text-3xl font-bold text-charcoal mb-2">2</div>
                                                <p class="text-gray-600">Active Coupons</p>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-8">
                                            <h3 class="text-xl font-bold text-charcoal mb-4">Recent Activity</h3>
                                            <div class="space-y-4">
                                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                                    <div class="w-10 h-10 bg-burgundy/10 rounded-full flex items-center justify-center mr-4">
                                                        <i class="fas fa-calendar-check text-burgundy"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-medium">Reservation confirmed</p>
                                                        <p class="text-sm text-gray-600">Table for 2 on Friday, 8:00 PM</p>
                                                    </div>
                                                    <div class="ml-auto text-sm text-gray-500">2 days ago</div>
                                                </div>
                                                
                                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                                    <div class="w-10 h-10 bg-gold/10 rounded-full flex items-center justify-center mr-4">
                                                        <i class="fas fa-star text-gold"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-medium">Review published</p>
                                                        <p class="text-sm text-gray-600">You reviewed your recent dining experience</p>
                                                    </div>
                                                    <div class="ml-auto text-sm text-gray-500">1 week ago</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <h3 class="text-xl font-bold text-charcoal mb-4">Rewards Progress</h3>
                                            <div class="bg-gray-100 rounded-full h-4 overflow-hidden">
                                                <div class="bg-gradient-to-r from-gold to-burgundy h-full rounded-full" style="width: 28%"></div>
                                            </div>
                                            <div class="flex justify-between mt-2">
                                                <span class="text-gray-600">Silver Tier (425/500 points)</span>
                                                <span class="font-medium text-burgundy">75 points to Gold</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Other sections (hidden by default) -->
                                <div id="profileReservations" class="profile-section hidden">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">My Reservations</h2>
                                        <p class="text-gray-600">No upcoming reservations</p>
                                    </div>
                                </div>
                                
                                <div id="profileRewards" class="profile-section hidden">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">Rewards & Points</h2>
                                        <p class="text-gray-600">You have 425 reward points</p>
                                    </div>
                                </div>
                                
                                <div id="profileCoupons" class="profile-section hidden">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">My Coupons</h2>
                                        <p class="text-gray-600">No active coupons</p>
                                    </div>
                                </div>
                                
                                <div id="profileReviews" class="profile-section hidden">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">My Reviews</h2>
                                        <p class="text-gray-600">No reviews yet</p>
                                    </div>
                                </div>
                                
                                <div id="profileSettings" class="profile-section hidden">
                                    <div class="bg-white rounded-2xl shadow-xl p-8">
                                        <h2 class="text-2xl font-bold text-charcoal mb-6">Account Settings</h2>
                                        <p class="text-gray-600">Account settings will appear here</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Cart Drawer -->
    <div id="cartDrawer" class="fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="h-full flex flex-col">
            <!-- Cart Header -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-charcoal">Your Cart</h2>
                    <button id="closeCartBtn" class="text-gray-500 hover:text-charcoal">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <p class="text-gray-600 mt-1">Items you've added to your order</p>
            </div>
            
            <!-- Cart Items -->
            <div id="cartItems" class="flex-1 overflow-y-auto p-6">
                <!-- Cart items will be added here dynamically -->
                <div id="emptyCartMessage" class="text-center py-12">
                    <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-4"></i>
                    <p class="text-gray-500">Your cart is empty</p>
                    <p class="text-gray-400 text-sm mt-2">Add items from the menu to get started</p>
                </div>
            </div>
            
            <!-- Cart Footer -->
            <div class="p-6 border-t border-gray-200 bg-gray-50">
                <div class="flex justify-between mb-4">
                    <span class="text-lg font-medium text-charcoal">Total</span>
                    <span id="cartTotal" class="text-2xl font-bold text-burgundy">$0.00</span>
                </div>
                
                <div class="space-y-3">
                    <button id="checkoutBtn" class="btn-primary w-full py-3 text-lg">
                        Proceed to Checkout
                    </button>
                    
                    <button onclick="showPage('homepage')" class="w-full text-center py-3 text-charcoal hover:text-burgundy transition-colors">
                        Continue Shopping
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
            <!-- Modal Header -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 id="authModalTitle" class="text-2xl font-bold text-charcoal">Sign In</h2>
                    <button id="closeAuthModalBtn" class="text-gray-500 hover:text-charcoal">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Modal Content -->
            <div class="p-6">
                <!-- Login Form -->
                <form id="loginForm" class="auth-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 mb-2">Email</label>
                            <input type="email" id="loginEmail" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">Password</label>
                            <input type="password" id="loginPassword" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div class="pt-4">
                            <button type="submit" class="btn-primary w-full py-3">
                                Sign In
                            </button>
                        </div>
                        
                        <div class="text-center">
                            <button type="button" class="text-burgundy hover:underline" onclick="switchAuthForm('register')">
                                Don't have an account? Create one
                            </button>
                        </div>
                    </div>
                </form>
                
                <!-- Register Form -->
                <form id="registerForm" class="auth-form hidden">
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 mb-2">First Name</label>
                                <input type="text" id="registerFirstName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2">Last Name</label>
                                <input type="text" id="registerLastName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">Email</label>
                            <input type="email" id="registerEmail" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">Password</label>
                            <input type="password" id="registerPassword" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">Confirm Password</label>
                            <input type="password" id="registerConfirmPassword" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div class="pt-4">
                            <button type="submit" class="btn-primary w-full py-3">
                                Create Account
                            </button>
                        </div>
                        
                        <div class="text-center">
                            <button type="button" class="text-burgundy hover:underline" onclick="switchAuthForm('login')">
                                Already have an account? Sign in
                            </button>
                        </div>
                    </div>
                </form>
                
                <!-- Guest Checkout Form -->
                <form id="guestCheckoutForm" class="auth-form hidden">
                    <div class="space-y-4">
                        <p class="text-gray-600 text-center mb-4">
                            Continue as guest to complete your order quickly. You can create an account later to track orders and earn rewards.
                        </p>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">Email</label>
                            <input type="email" id="guestEmail" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 mb-2">First Name</label>
                                <input type="text" id="guestFirstName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2">Last Name</label>
                                <input type="text" id="guestLastName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                        </div>
                        
                        <div class="pt-4">
                            <button type="submit" class="btn-primary w-full py-3 mb-3">
                                Continue as Guest
                            </button>
                            
                            <button type="button" class="btn-secondary w-full py-3" onclick="switchAuthForm('register')">
                                Create Account for Rewards
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <!-- Modal Header -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-charcoal">Complete Your Order</h2>
                    <button id="closeCheckoutModalBtn" class="text-gray-500 hover:text-charcoal">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <p class="text-gray-600 mt-1">Only essential information required</p>
            </div>
            
            <!-- Checkout Form -->
            <form id="checkoutForm" class="p-6">
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-bold text-charcoal mb-4">Contact Information</h3>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2">First Name</label>
                                    <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">Last Name</label>
                                    <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2">Email</label>
                                <input type="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2">Phone Number</label>
                                <input type="tel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-bold text-charcoal mb-4">Payment Details</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-700 mb-2">Card Number</label>
                                <input type="text" placeholder="1234 5678 9012 3456" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2">Expiry Date</label>
                                    <input type="text" placeholder="MM/YY" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">CVC</label>
                                    <input type="text" placeholder="123" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-burgundy focus:border-transparent" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="pt-4">
                        <button type="submit" class="btn-primary w-full py-4 text-lg">
                            Complete Order - $<span id="checkoutTotal">0.00</span>
                        </button>
                        
                        <p class="text-center text-gray-600 mt-3 text-sm">
                            No account needed. You can create one after your order to track it and earn rewards.
                        </p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Order Success Modal -->
    <div id="orderSuccessModal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full">
            <div class="p-8 text-center">
                <div class="w-20 h-20 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="fas fa-check text-3xl text-green-600"></i>
                </div>
                
                <h2 class="text-2xl font-bold text-charcoal mb-4">Order Confirmed!</h2>
                
                <p class="text-gray-600 mb-6">
                    Your order has been successfully placed. You will receive a confirmation email shortly.
                </p>
                
                <div class="bg-gray-50 rounded-xl p-4 mb-6">
                    <p class="text-sm text-gray-600">Order #: <span class="font-bold">EPI-2023-5872</span></p>
                    <p class="text-sm text-gray-600">Estimated pickup: <span class="font-bold">30 minutes</span></p>
                </div>
                
                <div class="space-y-3">
                    <button id="createAccountAfterOrder" class="btn-primary w-full py-3">
                        Create Account to Track Orders & Earn Coupons
                    </button>
                    
                    <button onclick="closeOrderSuccessModal()" class="w-full text-center py-3 text-charcoal hover:text-burgundy transition-colors">
                        Continue as Guest
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-charcoal text-white py-12">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-8 h-8 bg-gold rounded-full"></div>
                        <h2 class="font-display text-2xl font-bold">Epicurean</h2>
                    </div>
                    <p class="text-gray-400">
                        Elite dining experience since 1998. Where culinary artistry meets unparalleled service.
                    </p>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#homepage" class="text-gray-400 hover:text-gold transition-colors">Home</a></li>
                        <li><a href="#comments" class="text-gray-400 hover:text-gold transition-colors">Reviews</a></li>
                        <li><a href="#booking" class="text-gray-400 hover:text-gold transition-colors">Reservations</a></li>
                        <li><a href="#coupons" class="text-gray-400 hover:text-gold transition-colors">Offers</a></li>
                        <li><a href="#profile" class="text-gray-400 hover:text-gold transition-colors">Profile</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact Us</h3>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt text-gold mr-2"></i>
                            <span class="text-gray-400">123 Gourmet Ave, NY 10001</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone text-gold mr-2"></i>
                            <span class="text-gray-400">(555) 123-4567</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope text-gold mr-2"></i>
                            <span class="text-gray-400">info@epicurean.com</span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gold transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gold transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gold transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </div>
                    
                    <div class="mt-6">
                        <p class="text-gray-400 text-sm">
                            © 2023 Epicurean. All rights reserved.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Cart Overlay -->
    <div id="cartOverlay" class="fixed inset-0 bg-black/50 z-40 hidden"></div>

    <!-- Supabase Configuration and JavaScript -->
    <script>
        // Initialize Supabase
        const SUPABASE_URL = 'https://your-project.supabase.co';
        const SUPABASE_ANON_KEY = 'your-anon-key';
        
        // In production, replace with your actual Supabase URL and anon key
        // For now, we'll use localStorage to simulate authentication
        const supabase = {
            auth: {
                getSession: async () => {
                    const user = localStorage.getItem('restaurant-user');
                    return { data: { session: user ? { user: JSON.parse(user) } : null } };
                },
                signUp: async ({ email, password, options }) => {
                    // Simulate registration
                    const user = {
                        id: Date.now().toString(),
                        email: email,
                        user_metadata: options?.data || {}
                    };
                    localStorage.setItem('restaurant-user', JSON.stringify(user));
                    return { data: { user }, error: null };
                },
                signInWithPassword: async ({ email, password }) => {
                    // Simulate login
                    const user = {
                        id: Date.now().toString(),
                        email: email,
                        user_metadata: {}
                    };
                    localStorage.setItem('restaurant-user', JSON.stringify(user));
                    return { data: { user }, error: null };
                },
                signOut: async () => {
                    localStorage.removeItem('restaurant-user');
                    return { error: null };
                }
            }
        };

        // Cart state
        let cart = JSON.parse(localStorage.getItem('restaurant-cart')) || [];
        let currentUser = null;
        let currentPage = 'homepage';

        // DOM Elements
        const cartBtn = document.getElementById('cartBtn');
        const cartBtnMobile = document.getElementById('cartBtnMobile');
        const closeCartBtn = document.getElementById('closeCartBtn');
        const cartDrawer = document.getElementById('cartDrawer');
        const cartOverlay = document.getElementById('cartOverlay');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const cartCount = document.getElementById('cartCount');
        const cartCountMobile = document.getElementById('cartCountMobile');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const checkoutBtn = document.getElementById('checkoutBtn');
        
        const authBtn = document.getElementById('authBtn');
        const authBtnMobile = document.getElementById('authBtnMobile');
        const authModal = document.getElementById('authModal');
        const closeAuthModalBtn = document.getElementById('closeAuthModalBtn');
        const authModalTitle = document.getElementById('authModalTitle');
        
        const checkoutModal = document.getElementById('checkoutModal');
        const closeCheckoutModalBtn = document.getElementById('closeCheckoutModalBtn');
        const checkoutForm = document.getElementById('checkoutForm');
        const checkoutTotal = document.getElementById('checkoutTotal');
        
        const orderSuccessModal = document.getElementById('orderSuccessModal');
        const createAccountAfterOrder = document.getElementById('createAccountAfterOrder');
        
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const guestCheckoutForm = document.getElementById('guestCheckoutForm');
        
        const profileNotLoggedIn = document.getElementById('profileNotLoggedIn');
        const profileLoggedIn = document.getElementById('profileLoggedIn');
        const logoutBtn = document.getElementById('logoutBtn');
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            checkAuthState();
            
            // Load cart from localStorage
            updateCartDisplay();
            
            // Set up event listeners
            setupEventListeners();
            
            // Initialize page navigation
            initPageNavigation();
            
            // Initialize profile navigation
            initProfileNavigation();
        });

        function checkAuthState() {
            const userData = localStorage.getItem('restaurant-user');
            currentUser = userData ? JSON.parse(userData) : null;
            
            // Update auth button text
            const authButtonText = currentUser ? 'My Profile' : 'Sign In';
            authBtn.textContent = authButtonText;
            authBtnMobile.textContent = authButtonText;
            
            // Update profile page
            updateProfilePage();
        }

        function updateProfilePage() {
            if (currentUser) {
                profileNotLoggedIn.classList.add('hidden');
                profileLoggedIn.classList.remove('hidden');
                
                // Set user info
                const userName = document.getElementById('userName');
                const userEmail = document.getElementById('userEmail');
                const userInitials = document.getElementById('userInitials');
                
                if (currentUser.user_metadata) {
                    const firstName = currentUser.user_metadata.first_name || '';
                    const lastName = currentUser.user_metadata.last_name || '';
                    userName.textContent = `${firstName} ${lastName}`.trim() || 'User Name';
                    userInitials.textContent = `${firstName.charAt(0)}${lastName.charAt(0)}` || 'U';
                }
                
                userEmail.textContent = currentUser.email || 'user@example.com';
            } else {
                profileNotLoggedIn.classList.remove('hidden');
                profileLoggedIn.classList.add('hidden');
            }
        }

        function setupEventListeners() {
            // Cart functionality
            cartBtn.addEventListener('click', openCart);
            cartBtnMobile.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);
            checkoutBtn.addEventListener('click', handleCheckout);
            
            // Add to cart buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const name = this.getAttribute('data-name');
                    const price = parseFloat(this.getAttribute('data-price'));
                    addToCart(name, price);
                });
            });
            
            // Auth functionality
            authBtn.addEventListener('click', () => showAuthModal('login'));
            authBtnMobile.addEventListener('click', () => showAuthModal('login'));
            closeAuthModalBtn.addEventListener('click', closeAuthModal);
            
            // Auth forms
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            guestCheckoutForm.addEventListener('submit', handleGuestCheckout);
            
            // Checkout functionality
            closeCheckoutModalBtn.addEventListener('click', closeCheckoutModal);
            checkoutForm.addEventListener('submit', handleCheckoutSubmit);
            
            // Order success modal
            createAccountAfterOrder.addEventListener('click', () => {
                closeOrderSuccessModal();
                showAuthModal('register');
            });
            
            // Mobile menu
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // Logout
            logoutBtn.addEventListener('click', handleLogout);
            
            // Close modals on Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeCart();
                    closeAuthModal();
                    closeCheckoutModal();
                    closeOrderSuccessModal();
                }
            });
        }

        function initPageNavigation() {
            // Set up navigation links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('href').substring(1);
                    showPage(page);
                    
                    // Close mobile menu if open
                    mobileMenu.classList.add('hidden');
                });
            });
            
            // Check if there's a hash in the URL
            if (window.location.hash) {
                const page = window.location.hash.substring(1);
                if (['homepage', 'comments', 'booking', 'coupons', 'profile'].includes(page)) {
                    showPage(page);
                }
            }
        }

        function initProfileNavigation() {
            // Profile menu buttons
            document.querySelectorAll('.profile-menu-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    
                    // Remove active class from all buttons
                    document.querySelectorAll('.profile-menu-btn').forEach(btn => {
                        btn.classList.remove('bg-gray-100');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('bg-gray-100');
                    
                    // Hide all sections
                    document.querySelectorAll('.profile-section').forEach(section => {
                        section.classList.add('hidden');
                    });
                    
                    // Show selected section
                    document.getElementById(`profile${section.charAt(0).toUpperCase() + section.slice(1)}`).classList.remove('hidden');
                });
            });
        }

        // Cart Functions
        function addToCart(name, price) {
            const item = {
                id: Date.now(),
                name: name,
                price: price,
                quantity: 1
            };
            
            cart.push(item);
            saveCart();
            updateCartDisplay();
            
            // Show a quick notification
            showNotification(`${name} added to cart`);
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartDisplay();
        }

        function updateCartDisplay() {
            // Update cart count
            const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = itemCount;
            cartCountMobile.textContent = itemCount;
            
            // Update cart items display
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.appendChild(emptyCartMessage);
                cartTotal.textContent = '$0.00';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
                
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'flex items-center justify-between p-4 bg-gray-50 rounded-lg mb-3';
                cartItemElement.innerHTML = `
                    <div>
                        <h4 class="font-medium text-charcoal">${item.name}</h4>
                        <p class="text-gray-600">$${item.price.toFixed(2)} × ${item.quantity}</p>
                    </div>
                    <div class="flex items-center">
                        <span class="font-bold text-burgundy mr-4">$${(item.price * item.quantity).toFixed(2)}</span>
                        <button class="remove-from-cart text-red-500 hover:text-red-700" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                cartItems.appendChild(cartItemElement);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-from-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    removeFromCart(id);
                });
            });
            
            // Update total
            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        function saveCart() {
            localStorage.setItem('restaurant-cart', JSON.stringify(cart));
        }

        function openCart() {
            cartDrawer.classList.remove('translate-x-full');
            cartOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeCart() {
            cartDrawer.classList.add('translate-x-full');
            cartOverlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Authentication Functions
        function showAuthModal(mode = 'login') {
            // Hide all auth forms
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.add('hidden');
            });
            
            // Show the requested form
            if (mode === 'login') {
                loginForm.classList.remove('hidden');
                authModalTitle.textContent = 'Sign In';
            } else if (mode === 'register') {
                registerForm.classList.remove('hidden');
                authModalTitle.textContent = 'Create Account';
            } else if (mode === 'guest') {
                guestCheckoutForm.classList.remove('hidden');
                authModalTitle.textContent = 'Continue to Checkout';
            } else if (mode === 'write-review') {
                loginForm.classList.remove('hidden');
                authModalTitle.textContent = 'Sign In to Write Review';
            } else if (mode === 'claim-coupon') {
                loginForm.classList.remove('hidden');
                authModalTitle.textContent = 'Sign In to Claim Offer';
            }
            
            authModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeAuthModal() {
            authModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function switchAuthForm(form) {
            if (form === 'login') {
                showAuthModal('login');
            } else if (form === 'register') {
                showAuthModal('register');
            }
        }

        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            try {
                // Simulate API call
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: email,
                    password: password
                });
                
                if (error) throw error;
                
                currentUser = data.user;
                checkAuthState();
                closeAuthModal();
                showNotification('Successfully signed in!');
                
                // If we're on the profile page, refresh it
                if (currentPage === 'profile') {
                    showPage('profile');
                }
            } catch (error) {
                // For demo purposes, accept any login
                currentUser = {
                    id: Date.now().toString(),
                    email: email,
                    user_metadata: {}
                };
                localStorage.setItem('restaurant-user', JSON.stringify(currentUser));
                checkAuthState();
                closeAuthModal();
                showNotification('Successfully signed in!');
                
                // If we're on the profile page, refresh it
                if (currentPage === 'profile') {
                    showPage('profile');
                }
            }
        }

        async function handleRegister(e) {
            e.preventDefault();
            
            const firstName = document.getElementById('registerFirstName').value;
            const lastName = document.getElementById('registerLastName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            // Validation
            if (!firstName || !lastName || !email || !password || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }
            
            try {
                // Simulate API call
                const { data, error } = await supabase.auth.signUp({
                    email: email,
                    password: password,
                    options: {
                        data: {
                            first_name: firstName,
                            last_name: lastName
                        }
                    }
                });
                
                if (error) throw error;
                
                currentUser = data.user;
                checkAuthState();
                closeAuthModal();
                showNotification('Account created successfully!');
                
                // Show profile page
                showPage('profile');
            } catch (error) {
                // For demo purposes, create user anyway
                currentUser = {
                    id: Date.now().toString(),
                    email: email,
                    user_metadata: {
                        first_name: firstName,
                        last_name: lastName
                    }
                };
                localStorage.setItem('restaurant-user', JSON.stringify(currentUser));
                checkAuthState();
                closeAuthModal();
                showNotification('Account created successfully!');
                
                // Show profile page
                showPage('profile');
            }
        }

        async function handleGuestCheckout(e) {
            e.preventDefault();
            
            const email = document.getElementById('guestEmail').value;
            const firstName = document.getElementById('guestFirstName').value;
            const lastName = document.getElementById('guestLastName').value;
            
            if (!email || !firstName || !lastName) {
                alert('Please fill in all fields');
                return;
            }
            
            // Save guest info (in a real app, you'd save this to your database)
            localStorage.setItem('restaurant-guest-info', JSON.stringify({
                email: email,
                first_name: firstName,
                last_name: lastName
            }));
            
            closeAuthModal();
            openCheckoutModal();
        }

        function handleLogout() {
            supabase.auth.signOut();
            currentUser = null;
            checkAuthState();
            showPage('profile');
            showNotification('Successfully signed out');
        }

        // Checkout Functions
        function handleCheckout() {
            if (cart.length === 0) {
                alert('Your cart is empty');
                return;
            }
            
            closeCart();
            
            if (currentUser) {
                // User is logged in, go directly to checkout
                openCheckoutModal();
            } else {
                // Show guest/auth options
                showAuthModal('guest');
            }
        }

        function openCheckoutModal() {
            // Calculate total
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            checkoutTotal.textContent = total.toFixed(2);
            
            checkoutModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeCheckoutModal() {
            checkoutModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function handleCheckoutSubmit(e) {
            e.preventDefault();
            
            // In a real app, you would process the payment here
            // For demo, we'll just show success message
            
            closeCheckoutModal();
            
            // Clear the cart
            cart = [];
            saveCart();
            updateCartDisplay();
            
            // Show success modal
            setTimeout(() => {
                orderSuccessModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }, 500);
        }

        function closeOrderSuccessModal() {
            orderSuccessModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            // Return to homepage
            showPage('homepage');
        }

        // Page Navigation
        function showPage(page) {
            // Update URL hash
            window.location.hash = page;
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(pageElement => {
                pageElement.classList.remove('page-active');
                pageElement.classList.add('page-hidden');
            });
            
            // Show selected page
            const targetPage = document.getElementById(page);
            targetPage.classList.remove('page-hidden');
            targetPage.classList.add('page-active');
            
            // Update current page
            currentPage = page;
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            mobileMenu.classList.add('hidden');
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.getAttribute('href') === `#${page}`) {
                    link.classList.add('text-burgundy');
                } else {
                    link.classList.remove('text-burgundy');
                }
            });
        }

        // Utility Functions
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-burgundy text-white px-6 py-3 rounded-lg shadow-lg z-50 fade-in';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>